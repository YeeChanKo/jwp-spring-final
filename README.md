# 자바 웹 프로그래밍 최종 점검
## 최종 점검 문서 
* JWP Basic 최종 점검.pdf 문서를 참고해 최종 점검 진행

## 질문에 대한 답변
#### 2. Tomcat 서버의 시작 과정을 설명하시오.
톰캣 서버가 시작하면 스프링 프레임웍이 WebApplicationInitializer를 구현한 MyWebInitializer를 실행시켜 초기화 작업을 진행한다. 부모 Application Context(컨테이너)에 부모 설정 파일 AppConfig.class를 등록해주고, 서블릿 컨테이너에 이 부모 컨테이너를 등록한다. 그다음 자식 Application Context(컨테이너)를 생성해 부모 컨테이너를 부모로 설정해주고 자식 컨테이너에 자식 설정 파일 WebMvcConfig.class를 등록해준다. 이 자식 컨테이너에서 새로운 DispatcherServlet을 생성하고 이 서블릿을 서블릿 컨테이너에 추가해준다. 이렇게 생성된 디스패처 서블릿을 구동시에 로드하게 하고 모든 클라이언트 요청 경로에 대해 맵핑되게 설정한다.

#### 3. http://localhost:8080 으로 요청했을 때의 과정을 설명하시오.
사용자가 톰캣 서버에 요청을 하면 디스패처 서블릿이 요청을 받아준다. 디스패처 서블릿은 자식 컨테이너에 등록된 Bean들(주로 컨트롤러)을 사용해 가능한 요청들을 처리하고 해당하는 Bean이 자식 컨테이너에 없다면(주로 서비스에 공통되는 퍼시스턴트 레이어에 해당하는 서비스와 DAO들) 자식 컨테이너는 부모 컨테이너에 해당 Bean들이 있는지 확인해 이 Bean들이 일하게 한다. 최종적으로 컨트롤러의 작업이 끝나면 결과 뷰를 디스패처 서블릿이 받아 클라이언트에 넘겨주게 된다.

#### 6. QuestionController가 multi thread에서 문제가 되는 이유를 설명하시오.
스피링 컨테이너의 Bean은 싱글 인스턴스로 작동하기 때문에, 즉 여러 쓰레드가 하나의 인스턴스를 재사용하기 때문에 인스턴스에 싱글 인스턴스로 작동할 수 없는 멤버 변수를 만들면 여러 쓰레드에서 하나의 변수에 접근하게 되고 이는 한 사용자가 만든 Question 인스턴스의 참조를 다른 사용자가 사용하거나 바꿔치게 되는 등 의도치 않는 상황을 발생하게 한다.
